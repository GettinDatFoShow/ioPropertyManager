
<ion-header>
  <ion-toolbar>
    <ion-buttons slot="start">
      <ion-menu-button color="dark"  menu="propertiesTabMenu"></ion-menu-button>
    </ion-buttons>
    <ion-title color="dark" >
      Properties
    </ion-title>
  </ion-toolbar>
</ion-header>

<ion-content [fullscreen]="true">

  <ion-fab vertical="top" horizontal="end" edge slot="fixed" (click)="addProperty($event)">
    <ion-fab-button color="dark">
      <ion-icon name="add-outline" color="light"></ion-icon>
    </ion-fab-button>
  </ion-fab>
  <ion-toolbar *ngIf="properties.length > 2">
    <ion-searchbar></ion-searchbar>
  </ion-toolbar>
  <ion-list color="clear">
    <ion-card *ngIf="properties.length == 0">
      <ion-card-header>
        <ion-card-subtitle>Add a Property to see it here</ion-card-subtitle>
      </ion-card-header>
    </ion-card>
    <ion-card *ngFor="let property of properties">
      <ion-card-header>
        <ion-item button (click)="viewPhotoClick()" >
          <ion-avatar slot="start">
            <img src="./assets/icon/favicon.png" />
          </ion-avatar>
          <ion-label>
            <h3>{{property.propertyName}}</h3>
            <p>{{property.location.street}}</p>
            <p>Next Service: Jun 3rd, 2022</p>
          </ion-label>
        </ion-item>
        <!-- <ion-card-subtitle color="dark">{{property.propertyName}}</ion-card-subtitle> -->
      </ion-card-header>
    
        <ion-accordion-group>
          <ion-accordion toggle-icon="arrow-down-circle">
            <ion-item slot="header">
              <ion-label color="dark">Home Details</ion-label>
            </ion-item>
            <ion-list slot="content">
              <ion-item-group>
                <ion-item button (click)="locationClick()">
                  <ion-icon color="dark" name="location" slot="start"></ion-icon>
                  <ion-label>{{property.location.street}}</ion-label> 
                  <ion-icon color="dark" slot="end" name="chevron-forward"></ion-icon>       
                </ion-item>
                <ion-item button (click)="calendarClick()">
                  <ion-icon color="dark" name="calendar" slot="start"></ion-icon>
                  <ion-label>Schedule</ion-label>  
                  <ion-icon color="dark" slot="end" name="chevron-forward"></ion-icon>      
                </ion-item>
                <ion-item>
                  <ion-icon color="dark" name="calendar-number" slot="start"></ion-icon>
                  <ion-label>Next Service: Jun 3rd, 2022</ion-label>      
                </ion-item>
                <ion-item *ngFor="let home of property.homes; index as homeIndex">
                  <ion-icon color="dark" name="home" slot="start"></ion-icon>
                  <ion-label>{{home.homeName}}</ion-label>    
                  <ion-icon color="dark" slot="end" name="chevron-forward"></ion-icon>  
                </ion-item>
                <ion-item *ngFor="let owner of property.owners; index as ownerIndex">
                  <ion-icon color="dark" name="people" slot="start"></ion-icon>
                  <ion-label>{{owner.name}}</ion-label>    
                  <ion-icon color="dark" slot="end" name="chevron-forward"></ion-icon>  
                </ion-item>
                <ion-item button (click)="addOwnerClick()" *ngIf="!property.owners || property.owners.length < 1">
                  <ion-icon color="dark" name="people" slot="start"></ion-icon>
                  <ion-label>Add Owner</ion-label>    
                  <ion-icon color="dark" slot="end" name="add"></ion-icon>  
                </ion-item>
                <ion-item button (click)="activeClick()">
                  <ion-icon color="dark" name="ribbon" slot="start"></ion-icon>
                  <ion-label>Active Since: Feb 28th, 2022</ion-label>    
                  <ion-icon color="dark" slot="end" name="chevron-forward"></ion-icon>    
                </ion-item>
                <ion-item button (click)="editClick()">
                    <ion-label>Edit</ion-label>
                    <ion-icon color="dark" slot="end" name="construct"></ion-icon>
                </ion-item>
              </ion-item-group>

            </ion-list>
  
          </ion-accordion>
  
        </ion-accordion-group>

    </ion-card>
  </ion-list>

</ion-content>
